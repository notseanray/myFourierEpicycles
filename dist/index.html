<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
      myFourierEpicycles cycles.
    </title>
    <!-- Style Sheets -->
    <link
      rel="stylesheet"
      href="./css/dropzone.min.css"
    />
    <link rel="stylesheet" href="./css/style.css" />
    
    <!-- Scripts -->
    <script>
      MathJax = {
        tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] }
      };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <!-- <script
      src="../node_modules/dropzone/dist/min/dropzone.min.js"
    ></script> -->
    <!-- <script defer src="../node_modules/p5/lib/p5.min.js"></script>  -->
    <!-- <script defer type="module" src="../src/js/baseEpi.js"></script> -->
    <!-- <script defer src="../src/js/imagetracer_v1.2.6.js"></script> -->
    <!-- <script defer type="module" src="../src/js/index.js"></script> -->
    <script src="main.bundle.js"></script>
  </head>
  <body>
    <header>
      myFourierEpicycles cycles.
      <p>By Tony Rosler.</p>
    </header>
    <div id="startup"></div>
    <h3>
      Upload an image and see its epicycles.
      <br />
      <span style="font-size: 80%;"
        >To avoid drawings with crossing lines, use closed path svgs with seperate path fields for individual components.</span
      >
    </h3>

    <div>
      <form action="/target" class="dropzone" id="my-dropzone">
        <div class="dz-message needsclick">
          <span class="note needsclick">
            Upload svg files.
          </span>
        </div>
      </form>
    </div>
    <canvas id="placeholder" width="700" height="600"></canvas>
    <div id="upload-sketch"></div>
    <h3>Draw your own below!</h3>
    <div id="draw-yourself"></div>
    <h3>What is a fourier series? An intuitive argument.</h3>
    <p>
      $$f(t) = \frac{1}{P}(c_{-N} \cdot e^{i2\pi t\frac{-N}{P}}) + ... +
      \frac{1}{P}(c_1 \cdot e^{i2\pi t\frac{1}{P}}) + ... + \frac{1}{P}(c_N
      \cdot e^{i2\pi t\frac{N}{P}}) = \frac{1}{P}\sum_{n=-N}^N c_n \cdot
      e^{i2\pi t\frac{n}{P}}$$
    </p>
    <p>
      The fourier series (or inverse fourier transform) of a function $\small
      f$, is given by a <b>sum</b> of
      <i>complex harmonic sinusoids</i> ($\small sine$ and $\small cosine$ waves
      in the complex plane). In our case, $\small e^{i2\pi t\frac{n}{P}}$ gives
      the family of complex harmonic sinusoids (expand using
      <a href="https://en.wikipedia.org/wiki/Euler%27s_formula" target="_blank"
        >euler's formula</a
      >
      to see why). These functions are scaled by fourier coefficients ($\small
      c_n$), where $\small n$ can be interperated as the frquency of the $nth$
      sinusoidal wave in the sum. However, what is the intuition behind
      revolving epicycles? The answer comes from complex numbers in polar form,
      having an intuitive geometric interpritation. The argument goes something
      like this:
    </p>
    <p>
      Firstly, complex numbers can be thought of as
      <a href="https://en.wikipedia.org/wiki/Complex_number" target="_blank"
        >vectors</a
      >, as the real and imaginary components give the "numbers", both magnitude
      and direction. Secondly, every complex number in
      <a
        href="https://en.wikipedia.org/wiki/Polar_coordinate_system#Complex_numbers"
        target="_blank"
        >polar form, </a
      >
      lies on a circle by defintion. We also observee that complex numbers in
      polar form can be neatly represented by euler's formula. For example:
      $\small z = x + iy = r(cos(t) + i sin(t)) = re^{i t}$. Now if we increase
      $\small t$ (or time) by 1 unit, the new complex number is equivilent to
      walking around a circle by 1 unit. The specific circle in question will
      have radius $r$, be centred about the origin, have an initial
      <a
        href="https://math.stackexchange.com/questions/3141048/what-exactly-is-the-phase-of-a-complex-number/3141166"
        target="_blank"
        >phase</a
      >
      equal to $\small 1$. If we keep walking around the circle we will
      eventually end up back where we started. Specifically, when $\small t=2\pi
      k$ ($\small k=0, 1, ...$), we have walked all the way around the circle.
      <br />
      <br />
      So therfore, since the fourier series expresses a function as a sum of
      complex sinusoids (these are also functions remember), and the outputs of
      these functions are entirely described by circles in the complex plane. Means
      we can represent each complex sinusoid by a circle and a revolving vector.
      Hence, we can represent a function as a sum of revolving circles and
      vectors. Connected them tip to toe (i.e. adding them together) to find the final drawing.
      <br />
      <br />
      Hopefully at this point, you have some mathematical intuition, as to why revolving circles
      can be used to represent waves. If not here is a neat animation.
    </p>
    <div id="wave-circle-bridge"></div>

    <h3>What do those symbols mean?</h3>
    <ul>
      <li>
        $\small f(t)$ complex function of complex variable. In the
        <a href="https://en.wikipedia.org/wiki/Discrete_Fourier_transform" target="_blank"
          >discrete fourier transform</a
        >, the domain will be a list of complex values, and the first entry of
        the list can be interperated as the coordinate at time $\small t=0$.
      </li>
      <li>
        $\small c_n$ the fourier coefficient, is a complex number which encodes
        the amplitude(radius) and phase (initial position), of a vector on a
        circle of radius equivilent to length.
      </li>
      <li>
        $e^{i2\pi t\frac{n}{P}}$, is a complex function which can be
        interperated as a revolving vector, whose frequency is given by $\small
        \frac{n}{P}$. i.e. Every $1$ unit of time the vector has done
        $\frac{n}{P}$ full rotations.
      </li>
      <li>
        $\small \sum_{n=-N}^N$, means that we are decomposing our arbitrary
        function $\small f(t)$ into a sum of harmonic sinusoids with frequencies in the
        range $\small [-N, N]$.
      </li>
      <li>
        $P$, is the period of the function, i.e. the number of sample points or
        time considered. e.g $\small 2N$ in the equation above.
      </li>
    </ul>

    <h3>What is the fourier transform?</h3>
    <p>$$ c_n = \sum_{n=-N}^N f(x) \cdot e^{-i\frac{2\pi nx}{P}}$$</p>
    <p>
      The fourier transfrom is used to calculate the fourier coefficents
      ($\small c_n$) of a function. These coefficents are then used to express
      the function as weighted sum of harmonic sinusoids of differnet
      frquencies, phases and amplitudes. That's it.
      <br />
      <br />
      Anyways this site leaves the maths there (see the end of the page for more
      resources), instead have some fun and draw or upload your own drawings.
    </p>

    <h3>Understanding the fourier transform</h4>
    <p>
      For those curious, these resources are good starting points in
      understanding the fourier transform and the drawing of epicycles. I
      recommend using the resources in the order presented.
    </p>
    <p>
      <a href="https://www.youtube.com/watch?v=r6sGWTCMz2k" target="_blank"
        >3Blue1Brown - fourier series</a
      >
      great, like really great explination.
    </p>
    <p>
      <a href="https://www.youtube.com/watch?v=spUNpyF58BY" target="_blank"
        >3Blue1Brown - fourier transform</a
      >
      also great.
    </p>
    <p>
      <a href="https://en.wikipedia.org/wiki/Fourier_series" target="_blank"
        >Wikepedia - dourier series</a
      >
      well written and covers the math decently well.
    </p>
    <p>
      <a
        href="https://en.wikipedia.org/wiki/Discrete_Fourier_transform"
        target="_blank"
        >Wikepedia - fourier transform</a
      >
      ditto.
    </p>
    <p>
      <a href="http://www.jezzamon.com/fourier/index.html" target="_blank"
        >'An interactive introduction to the fourier transform'</a
      >
      - great visuals helped me build intuition and get started. Code is open
      source!
    </p>
    <p>
      <a href="https://www.youtube.com/watch?v=MY4luNgGfms" target="_blank"
        >The Coding Train</a
      >
      gives a basic guide on how you can create your own epicycles.
    </p>

    <p>
      I have open sourced the code and you can find it on my
      <a href="https://github.com/trozler/myFourierEpicycles" target="_blank">github.</a>
    </p>
  </body>
</html>
